@use '../../variables/common' as cmn;

h2,
.#{cmn.$prefix-skin--common} h2 {
    &.is-style-section-title {
        font-weight: 700;
        font-size: min(12vw, 120px);
        margin-bottom: 0;
        position: relative;
        word-break: break-all;
        line-height: 0.9;
        &::before,
        &::after {
            content: "";
            position: absolute;
            top: max(-25vw, -300px);
            display: flex;
            width: min(50vw, 600px);
            height: min(50vw, 600px);
        }
        &::after {
            mix-blend-mode: screen;
            background-size: contain;
            background-image: svg-load("../../../../build/images/icons/bubble.svg");
        }
        &::before {
            z-index: -1;
            position: absolute;
            background-color: var(--global--color-background);
        }
        & + * {
            margin-top: 0;
            padding-top: 0;
        }
        &.has-text-align-right {
            &::before,
            &::after {
                right: 0;
            }
        }
    }
}
// frontのみz-index調整
.#{cmn.$prefix-skin--common} h2 {
    &.is-style-section-title {
        z-index: -1;
    }
}

@media only screen and (min-width: 1500px) {
    .#{cmn.$prefix-skin--common} h2 {
        &.is-style-section-title,
        &.is-style-section-title.alignwide {
            margin: 0;
            font-size: min(12vw, 240px);
            position: absolute;
            left: 0;
            transform: rotate(90deg) translate(5em, 5.65em);
            max-width: none;
            width: 12em;
            &::before,
            &::after {
                top: -150px;
                animation: bubbles 12s ease-in-out 5s infinite;
            }
            &::before {
                animation-name: bubbles-background;
            }
            &.has-text-align-right {
                text-align: left;
                left: auto;
                right: 0;
                transform: rotate(90deg) translate(5em, -5.65em);
                &::before,
                &::after {
                    right: auto;
                }
            }
        }
    }
}

@media not all and (min-resolution:.001dpcm) { 
    @supports (-webkit-appearance:none) {
        .#{cmn.$prefix-skin--common} h2 {
            &.is-style-section-title,
            &.is-style-section-title.alignwide {
                &::before,
                &::after {
                    animation: none;
                }
            }
        }
    }
}

@keyframes bubbles {
    0% {
        transform: translate(0%);
        visibility: visible;
    }
    7%,10% {
        transform: translate(70%, 10%);
        mix-blend-mode:screen;
    }
    25%,35% {
        transform: translate(-100%, 12%);
        mix-blend-mode: hue;
    }
    36% {
        visibility: hidden;
        mix-blend-mode:overlay;
    }
    45% {
        transform: translate(0%);
    }
}
@keyframes bubbles-background {
    0% {
        transform: translate(0%);
    }
    7%,10% {
        transform: translate(70%, 10%);
    }
    25%,35% {
        transform: translate(-100%, 12%);
    }
    45% {
        transform: translate(0%);
    }
}